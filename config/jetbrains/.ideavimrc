" shared (source of truth)
source ~/.vimrc

" IDEA specific
set scrolloff=5
set ideajoin
set ideastatusicon=keep
set ideamarks

" Plugins
set highlightedyank
set NERDTree

" need to install Which-Key plugin
set which-key
set notimeout
set timeoutlen=5000

" Mappings

map <leader>e <Action>(ActivateProjectToolWindow)

map <D-h> <C-w>h
map <D-l> <C-w>l
map <D-j> <C-w>j
map <D-k> <C-w>k

map <leader>v <Action>(SplitVertically)
map <leader>h <Action>(SplitHorizontally)
map <D-o> <Action>(MoveEditorToOppositeTabGroup)

map <leader>x <Action>(CloseContent)
map <leader>w <Action>(SaveDocument)

" Buffers

map <leader>bp <Action>(PinActiveEditorTab)
map <leader>bq <Action>(CloseAllEditorsButActive)

" Search
map <FindInPath>fc <Action>(FindInPath)
map <leader>ff <Action>(GotoFile)
map <leader>fd <Action>(HelpDiagnosticTools)
map <leader>fg <Action>(FindInPath)
map <leader>ft <Action>(ActivateTODOToolWindow)
map <leader>fr <Action>(RecentFiles)
map <leader><leader> <Action>(SearchEverywhere)

" Test
map <leader>ot <Action>(GotoTest)
map <leader>T <Action>(RunClass)

" Completion
imap <C-space> <Action>(CodeCompletion)

" LSP

map gd <Action>(GotoDeclaration)
map gr <Action>(FindUsages)
map gD <Action>(GotoTypeDeclaration)
map gi <Action>(GotoImplementation)
map <BS> <Action>(Back)

map <leader>rr <Action>(RenameElement)

map <leader>oc <Action>(ReformatCode)
map <leader>oi <Action>(OptimizeImports)
map <leader>oa <Action>(ReformatCode)<Action>(OptimizeImports)

map <leader>k <Action>(QuickJavaDoc)
map <leader>i <Action>(QuickImplementations)
map <leader>u <Action>(ShowUsages)

imap <C-s> <Action>(ParameterInfo)
map <C-s> <Action>(ParameterInfo)

map <leader>a <Action>(ShowIntentionActions)

" Outline

map <leader>0 <Action>(FileStructurePopup)