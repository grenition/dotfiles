" shared (source of truth)
source ~/.vimrc

" IDEA specific
set scrolloff=5
set ideajoin
set ideastatusicon=keep
set ideamarks

" Plugins
set highlightedyank
set NERDTree

" need to install Which-Key plugin
set which-key
set notimeout
set timeoutlen=5000

" Mappings

map <leader>e <Action>(ActivateProjectToolWindow)

map <C-h> <C-w>h
map <C-l> <C-w>l
map <C-j> <C-w>j
map <C-k> <C-w>k

map <D-h> <C-w>h
map <D-l> <C-w>l
map <D-j> <C-w>j
map <D-k> <C-w>k

map <leader>v <Action>(SplitVertically)
map <leader>h <Action>(SplitHorizontally)
map <D-o> <Action>(MoveEditorToOppositeTabGroup)

map <leader>x <Action>(CloseContent)
map <leader>w <Action>(SaveDocument)

" Buffers

map <leader>bp <Action>(PinActiveEditorTab)
map <leader>bq <Action>(CloseAllEditorsButActive)

" Search
map <FindInPath>fc <Action>(FindInPath)
map <leader>ff <Action>(GotoFile)
map <leader>fd <Action>(HelpDiagnosticTools)
map <leader>fg <Action>(FindInPath)
map <leader>ft <Action>(ActivateTODOToolWindow)
map <leader>fr <Action>(RecentFiles)
map <leader><leader> <Action>(SearchEverywhere)

" Test
map <leader>ot <Action>(GotoTest)
map <leader>T <Action>(RunClass)

" Completion
imap <C-space> <Action>(CodeCompletion)

" LSP

map gd <Action>(GotoDeclaration)
map gr <Action>(FindUsages)
map gD <Action>(GotoTypeDeclaration)
map gi <Action>(GotoImplementation)
map <BS> <Action>(Back)

map <leader>rr <Action>(RenameElement)

map <leader>oc <Action>(ReformatCode)
map <leader>oi <Action>(OptimizeImports)
map <leader>oa <Action>(ReformatCode)<Action>(OptimizeImports)

map <leader>k <Action>(QuickJavaDoc)
map <leader>i <Action>(QuickImplementations)
map <leader>u <Action>(ShowUsages)

imap <C-s> <Action>(ParameterInfo)
map <C-s> <Action>(ParameterInfo)

map <leader>a <Action>(ShowIntentionActions)

" Outline

map <leader>0 <Action>(FileStructurePopup)

" Russian keys
map й q
map ц w
map у e
map к r
map е t
map н y
map г u
map ш i
map щ o
map з p
map х [
map ъ ]

map Й Q
map Ц W
map У E
map К R
map Е T
map Н Y
map Г U
map Ш I
map Щ O
map З P
map Х {
map Ъ }

map ф a
map ы s
map в d
map а f
map п g
map р h
map о j
map л k
map д l
map ж ;
map э '

map Ф A
map Ы S
map В D
map А F
map П G
map Р H
map О J
map Л K
map Д L
map Ж :
map Э "

map я z
map ч x
map с c
map м v
map и b
map т n
map ь m
map б ,
map ю .

map Я Z
map Ч X
map С C
map М V
map И B
map Т N
map Ь M
map Б <
map Ю >